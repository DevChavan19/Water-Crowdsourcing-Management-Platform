#spring.application.name=watercrowdsourcing-api-gateway
#server.port=9090
#
##Eureka Discovery Client
#eureka.client.serviceUrl.defaultZone=http://localhost:8761/eureka/
#eureka.instance.prefer-ip-address=true
#
## JWT secret (same secret key)
#jwt.secret=617b7c292a0698a897e6ff73324285be2ca049857c8802e26a4cce2214d899c4
#
##Configure the routes for UMS   - users
#spring.cloud.gateway.server.webflux.routes[0].id=id1
#spring.cloud.gateway.server.webflux.routes[0].uri=lb://rideongo-ums-service
#spring.cloud.gateway.server.webflux.routes[0].predicates[0]=Path=/users/**

# ===================== Core Setup =====================
spring.application.name=watercrowdsourcing-api-gateway
server.port=9090
spring.cloud.config.import-check.enabled=false

# ===================== Eureka Discovery =====================
eureka.client.service-url.defaultZone=http://localhost:8761/eureka/
eureka.instance.prefer-ip-address=true

# ===================== JWT Secret =====================
jwt.secret=617b7c292a0698a897e6ff73324285be2ca049857c8802e26a4cce2214d899c4

# ===================== Gateway Routes (WebFlux Standard) =====================
# Use spring.cloud.gateway.server.webflux.routes instead of deprecated spring.cloud.gateway.routes

# Report Service
spring.cloud.gateway.server.webflux.routes[0].id=report-service
spring.cloud.gateway.server.webflux.routes[0].uri=lb://WATER-CROWD-REPORT-SERVICE
spring.cloud.gateway.server.webflux.routes[0].predicates[0]=Path=/reports/**

# Issue Service
spring.cloud.gateway.server.webflux.routes[1].id=issue-service
spring.cloud.gateway.server.webflux.routes[1].uri=lb://WATER-CROWD-ISSUE-SERVICE
spring.cloud.gateway.server.webflux.routes[1].predicates[0]=Path=/issues/**

# Image Service
spring.cloud.gateway.server.webflux.routes[2].id=image-service
spring.cloud.gateway.server.webflux.routes[2].uri=lb://WATER-CROWD-IMAGE-SERVICE
spring.cloud.gateway.server.webflux.routes[2].predicates[0]=Path=/images/**

# Department Service
spring.cloud.gateway.server.webflux.routes[3].id=department-service
spring.cloud.gateway.server.webflux.routes[3].uri=lb://WATER-CROWD-DEPARTMENT-SERVICE
spring.cloud.gateway.server.webflux.routes[3].predicates[0]=Path=/departments/**

# UMS Service (User Management)
spring.cloud.gateway.server.webflux.routes[4].id=ums-service
spring.cloud.gateway.server.webflux.routes[4].uri=lb://WATER-CROWD-UMS-SERVICE
spring.cloud.gateway.server.webflux.routes[4].predicates[0]=Path=/users/**

# Feedback Service
spring.cloud.gateway.server.webflux.routes[5].id=feedback-service
spring.cloud.gateway.server.webflux.routes[5].uri=lb://WATER-CROWD-FEEDBACK-SERVICE
spring.cloud.gateway.server.webflux.routes[5].predicates[0]=Path=/feedback/**
